{
  "$product": {
    "name": "API AutoFlow",
    "version": "1.0.24"
  },
  "Inbound": [
    {
      "id": "d3cf76d9-8fb6-42c8-b456-ff9086e0288f",
      "meta": {},
      "value": {
        "name": "transportation",
        "port": 1009,
        "type": "http server"
      }
    }
  ],
  "InboundEndpoint": [
    {
      "id": "212715e6-3251-4167-a264-70b5821b736e",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": {
        "default-test": "a42a829d-34d2-4207-9d23-24f75d22bb2b",
        "methods": [
          "POST"
        ],
        "name": "insert station",
        "path": "/insert-station",
        "type": "endpoint"
      }
    },
    {
      "id": "0a874df7-1980-4282-945c-bd5f36bc80cc",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": {
        "default-test": "798b090e-5443-41ef-81e1-331349396463",
        "methods": [
          "GET"
        ],
        "name": "get stations",
        "path": "/get-stations",
        "type": "endpoint"
      }
    },
    {
      "id": "30c2231e-0c54-46d4-931b-735d542b2080",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": {
        "default-test": "3ecbb8fe-2883-407c-abf9-c767db7dcc37",
        "methods": [
          "POST"
        ],
        "name": "insert bus",
        "path": "/insert-bus",
        "type": "endpoint"
      }
    },
    {
      "id": "ec65e69f-b37f-41f5-8a3b-1e26faf3e9fb",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": {
        "default-test": "d2a8539b-1e20-4861-9b46-f7fa33f87b34",
        "methods": [
          "GET"
        ],
        "name": "get buses",
        "path": "/get-busses",
        "type": "endpoint"
      }
    },
    {
      "id": "fce79631-6474-45db-8cf4-7b211eaf24fe",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": {
        "default-test": "9b3f9d73-f84c-40f4-a2ad-1ac909530a94",
        "methods": [
          "GET"
        ],
        "name": "get all buses and stations",
        "path": "/get-all-bus-station",
        "type": "endpoint"
      }
    },
    {
      "id": "32cfdb57-e486-4db9-9953-fb285cb146e9",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": {
        "default-test": "12b07e67-b227-4b56-b318-9aaa97bbada8",
        "methods": [
          "POST"
        ],
        "name": "get bus station",
        "path": "/get-bus-station",
        "type": "endpoint"
      }
    }
  ],
  "InboundEndpointFlow": [
    {
      "id": "212715e6-3251-4167-a264-70b5821b736e",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": [
        {
          "$action": "json/decode",
          "json": {
            "__LDATA__": [
              "request",
              "body"
            ]
          },
          "output-location": {
            "__LDATA__": [
              "request-body"
            ]
          }
        },
        {
          "$action": "string/join",
          "array": [
            "insert into public.\"stations\"(\"station_name\",\"lat\",\"long\") values ('",
            {
              "__LDATA__": [
                "request-body",
                "station_name"
              ]
            },
            "','",
            {
              "__LDATA__": [
                "request-body",
                "lat"
              ]
            },
            "','",
            {
              "__LDATA__": [
                "request-body",
                "long"
              ]
            },
            "')"
          ],
          "name": "build query",
          "output-location": {
            "__LDATA__": [
              "query"
            ]
          },
          "separator": ""
        },
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "name": "insert station",
          "output-location": {
            "__LDATA__": [
              "result"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": {
            "__LDATA__": [
              "query"
            ]
          },
          "use-mock-result": false,
          "username": "postgres"
        },
        {
          "$action": "data/set",
          "at-location": {
            "__LDATA__": [
              "response",
              "body"
            ]
          },
          "value": {
            "__LDATA__": [
              "request",
              "body"
            ]
          }
        }
      ]
    },
    {
      "id": "0a874df7-1980-4282-945c-bd5f36bc80cc",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": [
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "name": "get stations",
          "output-location": {
            "__LDATA__": [
              "result"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": "SELECT * FROM public.\"stations\"",
          "use-mock-result": false,
          "username": "postgres"
        },
        {
          "$action": "data/set",
          "at-location": {
            "__LDATA__": [
              "response",
              "body"
            ]
          },
          "value": {
            "__LDATA__": [
              "result"
            ]
          }
        }
      ]
    },
    {
      "id": "30c2231e-0c54-46d4-931b-735d542b2080",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": [
        {
          "$action": "json/decode",
          "json": {
            "__LDATA__": [
              "request",
              "body"
            ]
          },
          "name": "json/decode",
          "output-location": {
            "__LDATA__": [
              "request-body"
            ]
          }
        },
        {
          "$action": "string/join",
          "array": [
            "insert into public.\"buses\"(\"bus_name\") values ('",
            {
              "__LDATA__": [
                "request-body",
                "bus_name"
              ]
            },
            "')"
          ],
          "name": "build query",
          "output-location": {
            "__LDATA__": [
              "query"
            ]
          },
          "separator": ""
        },
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "name": "insert bus",
          "output-location": {
            "__LDATA__": [
              "result"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": {
            "__LDATA__": [
              "query"
            ]
          },
          "use-mock-result": false,
          "username": "postgres"
        },
        {
          "$action": "data/set",
          "at-location": {
            "__LDATA__": [
              "response",
              "body"
            ]
          },
          "name": "data/set",
          "value": {
            "__LDATA__": [
              "request",
              "body"
            ]
          }
        }
      ]
    },
    {
      "id": "ec65e69f-b37f-41f5-8a3b-1e26faf3e9fb",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": [
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "name": "get buses",
          "output-location": {
            "__LDATA__": [
              "result"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": "SELECT * FROM public.\"buses\"",
          "use-mock-result": false,
          "username": "postgres"
        },
        {
          "$action": "data/set",
          "at-location": {
            "__LDATA__": [
              "response",
              "body"
            ]
          },
          "value": {
            "__LDATA__": [
              "result"
            ]
          }
        }
      ]
    },
    {
      "id": "fce79631-6474-45db-8cf4-7b211eaf24fe",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": [
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "name": "get bus station",
          "output-location": {
            "__LDATA__": [
              "bus-station"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": "SELECT * FROM public.\"bus_station\"",
          "use-mock-result": false,
          "username": "postgres"
        },
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "name": "get buses",
          "output-location": {
            "__LDATA__": [
              "buses"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": "SELECT * FROM public.\"buses\"",
          "use-mock-result": false,
          "username": "postgres"
        },
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "name": "get stations",
          "output-location": {
            "__LDATA__": [
              "stations"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": "SELECT * FROM public.\"stations\"",
          "use-mock-result": false,
          "username": "postgres"
        },
        {
          "$action": "data/set",
          "at-location": {
            "__LDATA__": [
              "result"
            ]
          },
          "name": "empty array",
          "value": []
        },
        {
          "$action": "iteration/for-each",
          "array": {
            "__LDATA__": [
              "bus-station"
            ]
          },
          "do": [
            {
              "$action": "iteration/for-each",
              "array": {
                "__LDATA__": [
                  "buses"
                ]
              },
              "do": [
                {
                  "$action": "conditional/if",
                  "else": [],
                  "expression": "",
                  "then": [
                    {
                      "$action": "data/set",
                      "at-location": {
                        "__LDATA__": [
                          "bus-name"
                        ]
                      },
                      "value": {
                        "__LDATA__": [
                          "value-bus",
                          "bus_name"
                        ]
                      }
                    }
                  ],
                  "variables": [
                    {
                      "$condition": "number/is-equal",
                      "name": "condition1",
                      "target": {
                        "__LDATA__": [
                          "value-bus",
                          "id"
                        ]
                      },
                      "value": {
                        "__LDATA__": [
                          "value",
                          "bus_id"
                        ]
                      }
                    }
                  ]
                }
              ],
              "index-location": {
                "__LDATA__": [
                  "index-bus"
                ]
              },
              "name": "find bus name",
              "value-location": {
                "__LDATA__": [
                  "value-bus"
                ]
              }
            },
            {
              "$action": "iteration/for-each",
              "array": {
                "__LDATA__": [
                  "stations"
                ]
              },
              "do": [
                {
                  "$action": "conditional/if",
                  "else": [],
                  "expression": "",
                  "then": [
                    {
                      "$action": "data/set",
                      "at-location": {
                        "__LDATA__": [
                          "station-name"
                        ]
                      },
                      "value": {
                        "__LDATA__": [
                          "value-station",
                          "station_name"
                        ]
                      }
                    }
                  ],
                  "variables": [
                    {
                      "$condition": "number/is-equal",
                      "name": "condition1",
                      "target": {
                        "__LDATA__": [
                          "value-station",
                          "id"
                        ]
                      },
                      "value": {
                        "__LDATA__": [
                          "value",
                          "station_id"
                        ]
                      }
                    }
                  ]
                }
              ],
              "index-location": {
                "__LDATA__": [
                  "index-station"
                ]
              },
              "name": "find station name",
              "value-location": {
                "__LDATA__": [
                  "value-station"
                ]
              }
            },
            {
              "$action": "array/insert-at",
              "array": {
                "__LDATA__": [
                  "result"
                ]
              },
              "index": 0,
              "output-location": {
                "__LDATA__": [
                  "result"
                ]
              },
              "value": {
                "bus-name": {
                  "__LDATA__": [
                    "bus-name"
                  ]
                },
                "sequence": {
                  "__LDATA__": [
                    "value",
                    "sequence"
                  ]
                },
                "station-name": {
                  "__LDATA__": [
                    "station-name"
                  ]
                }
              }
            }
          ],
          "index-location": {
            "__LDATA__": [
              "index"
            ]
          },
          "value-location": {
            "__LDATA__": [
              "value"
            ]
          }
        },
        {
          "$action": "data/set",
          "at-location": {
            "__LDATA__": [
              "response",
              "body"
            ]
          },
          "value": {
            "__LDATA__": [
              "result"
            ]
          }
        }
      ]
    },
    {
      "id": "32cfdb57-e486-4db9-9953-fb285cb146e9",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f"
        ]
      },
      "value": [
        {
          "$action": "json/decode",
          "json": {
            "__LDATA__": [
              "request",
              "body"
            ]
          },
          "output-location": {
            "__LDATA__": [
              "requested-bus"
            ]
          }
        },
        {
          "$action": "string/join",
          "array": [
            "SELECT * FROM public.\"bus_station\" WHERE bus_id = '",
            {
              "__LDATA__": [
                "requested-bus",
                "bus_id"
              ]
            },
            "'"
          ],
          "output-location": {
            "__LDATA__": [
              "query"
            ]
          },
          "separator": ""
        },
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "name": "get bus stations",
          "output-location": {
            "__LDATA__": [
              "bus-station"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": {
            "__LDATA__": [
              "query"
            ]
          },
          "use-mock-result": false,
          "username": "postgres"
        },
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "name": "get stations",
          "output-location": {
            "__LDATA__": [
              "stations"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": "SELECT * FROM public.\"stations\"",
          "use-mock-result": false,
          "username": "postgres"
        },
        {
          "$action": "data/set",
          "at-location": {
            "__LDATA__": [
              "result"
            ]
          },
          "value": []
        },
        {
          "$action": "iteration/for-each",
          "array": {
            "__LDATA__": [
              "bus-station"
            ]
          },
          "do": [
            {
              "$action": "iteration/for-each",
              "array": {
                "__LDATA__": [
                  "stations"
                ]
              },
              "do": [
                {
                  "$action": "conditional/if",
                  "else": [],
                  "expression": "",
                  "then": [
                    {
                      "$action": "data/set",
                      "at-location": {
                        "__LDATA__": [
                          "station-name"
                        ]
                      },
                      "value": {
                        "__LDATA__": [
                          "value-station",
                          "station_name"
                        ]
                      }
                    }
                  ],
                  "variables": [
                    {
                      "$condition": "number/is-equal",
                      "name": "condition1",
                      "target": {
                        "__LDATA__": [
                          "value-station",
                          "id"
                        ]
                      },
                      "value": {
                        "__LDATA__": [
                          "value",
                          "station_id"
                        ]
                      }
                    }
                  ]
                }
              ],
              "index-location": {
                "__LDATA__": [
                  "index-station"
                ]
              },
              "name": "find station name",
              "value-location": {
                "__LDATA__": [
                  "value-station"
                ]
              }
            },
            {
              "$action": "array/insert-at",
              "array": {
                "__LDATA__": [
                  "result"
                ]
              },
              "index": 0,
              "output-location": {
                "__LDATA__": [
                  "result"
                ]
              },
              "value": {
                "bus-name": {
                  "__LDATA__": [
                    "requested-bus",
                    "bus_name"
                  ]
                },
                "sequence": {
                  "__LDATA__": [
                    "value",
                    "sequence"
                  ]
                },
                "station-name": {
                  "__LDATA__": [
                    "station-name"
                  ]
                }
              }
            }
          ],
          "index-location": {
            "__LDATA__": [
              "index"
            ]
          },
          "value-location": {
            "__LDATA__": [
              "value"
            ]
          }
        },
        {
          "$action": "array/sort",
          "array": {
            "__LDATA__": [
              "result"
            ]
          },
          "output-location": {
            "__LDATA__": [
              "result"
            ]
          }
        },
        {
          "$action": "data/set",
          "at-location": {
            "__LDATA__": [
              "response",
              "body"
            ]
          },
          "value": {
            "__LDATA__": [
              "result"
            ]
          }
        }
      ]
    }
  ],
  "InboundEndpointTest": [
    {
      "id": "798b090e-5443-41ef-81e1-331349396463",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f",
          "endpoint",
          "0a874df7-1980-4282-945c-bd5f36bc80cc"
        ]
      },
      "value": {
        "name": "default-test-input",
        "request": {
          "body": "",
          "header": {},
          "path": {},
          "query": {}
        }
      }
    },
    {
      "id": "9b3f9d73-f84c-40f4-a2ad-1ac909530a94",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f",
          "endpoint",
          "fce79631-6474-45db-8cf4-7b211eaf24fe"
        ]
      },
      "value": {
        "name": "default-test-input",
        "request": {
          "body": "",
          "header": {},
          "path": {},
          "query": {}
        }
      }
    },
    {
      "id": "3ecbb8fe-2883-407c-abf9-c767db7dcc37",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f",
          "endpoint",
          "30c2231e-0c54-46d4-931b-735d542b2080"
        ]
      },
      "value": {
        "name": "default-test-input",
        "request": {
          "body": "{\"bus_name\":\"new line\"}",
          "header": {},
          "path": {},
          "query": {}
        }
      }
    },
    {
      "id": "d2a8539b-1e20-4861-9b46-f7fa33f87b34",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f",
          "endpoint",
          "ec65e69f-b37f-41f5-8a3b-1e26faf3e9fb"
        ]
      },
      "value": {
        "name": "default-test-input",
        "request": {
          "body": "",
          "header": {},
          "path": {},
          "query": {}
        }
      }
    },
    {
      "id": "12b07e67-b227-4b56-b318-9aaa97bbada8",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f",
          "endpoint",
          "32cfdb57-e486-4db9-9953-fb285cb146e9"
        ]
      },
      "value": {
        "name": "default-test-input",
        "request": {
          "body": "{\"bus_id\":\"1\",\"bus_name\":\"line 1 - 1\"}",
          "header": {},
          "path": {},
          "query": {}
        }
      }
    },
    {
      "id": "a42a829d-34d2-4207-9d23-24f75d22bb2b",
      "meta": {
        "index": [
          "inbound",
          "d3cf76d9-8fb6-42c8-b456-ff9086e0288f",
          "endpoint",
          "212715e6-3251-4167-a264-70b5821b736e"
        ]
      },
      "value": {
        "name": "default-test-input",
        "request": {
          "body": "{\"station_name\":\"old town 5\", \"lat\":\"637123\", \"long\":\"1021673\"}",
          "header": {},
          "path": {},
          "query": {}
        }
      }
    }
  ]
}