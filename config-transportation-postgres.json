{
  "$product": {
    "name": "API AutoFlow",
    "version": "1.0.24"
  },
  "Inbound": [
    {
      "id": "a0ed087f-4c0e-4392-be15-d03998182b0c",
      "meta": {},
      "value": {
        "name": "transportation",
        "port": 1001,
        "type": "http server"
      }
    }
  ],
  "InboundEndpoint": [
    {
      "id": "10167388-82e2-4e42-8a28-833503b76c87",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c"
        ]
      },
      "value": {
        "default-test": "a8d41312-a878-4095-a7ec-5262a60cc3a7",
        "methods": [
          "GET"
        ],
        "name": "get stations",
        "path": "/get-stations",
        "type": "endpoint"
      }
    },
    {
      "id": "c7f4ae6c-a43b-42bf-ad84-0d40af4d0cb1",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c"
        ]
      },
      "value": {
        "default-test": "86d3bb0f-e7cf-472e-b8df-4e27f18f3fec",
        "methods": [
          "POST"
        ],
        "name": "get bus route",
        "path": "/get-bus-route",
        "type": "endpoint"
      }
    },
    {
      "id": "62d4fb20-e6c1-41f8-aecc-09ba42c326ec",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c"
        ]
      },
      "value": {
        "default-test": "9fa81954-998e-46e1-ae62-e52e822f118c",
        "methods": [
          "GET"
        ],
        "name": "get buses",
        "path": "/get-buses",
        "type": "endpoint"
      }
    },
    {
      "id": "6e1a645c-8850-4b72-bc61-cc6245155369",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c"
        ]
      },
      "value": {
        "default-test": "16a9ee1b-17f3-4601-b430-23316d312503",
        "methods": [
          "POST"
        ],
        "name": "insert bus",
        "path": "/insert-bus",
        "type": "endpoint"
      }
    },
    {
      "id": "61e8e5bf-52d3-42d0-847b-5ac14cdfd5ae",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c"
        ]
      },
      "value": {
        "default-test": "d622a8fc-7f3b-47c9-9988-100ed4b38abe",
        "methods": [
          "POST"
        ],
        "name": "insert station",
        "path": "/insert-station",
        "type": "endpoint"
      }
    }
  ],
  "InboundEndpointFlow": [
    {
      "id": "10167388-82e2-4e42-8a28-833503b76c87",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c"
        ]
      },
      "value": [
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "output-location": {
            "__LDATA__": [
              "response",
              "body"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": "SELECT * FROM public.\"stations\"",
          "use-mock-result": false,
          "username": "postgres"
        }
      ]
    },
    {
      "id": "c7f4ae6c-a43b-42bf-ad84-0d40af4d0cb1",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c"
        ]
      },
      "value": [
        {
          "$action": "json/decode",
          "json": {
            "__LDATA__": [
              "request",
              "body"
            ]
          },
          "output-location": {
            "__LDATA__": [
              "bus"
            ]
          }
        },
        {
          "$action": "string/join",
          "array": [
            "SELECT station_id, sequence FROM public.\"bus_station\" WHERE bus_id = '",
            {
              "__LDATA__": [
                "bus",
                "bus_id"
              ]
            },
            "'"
          ],
          "output-location": {
            "__LDATA__": [
              "query"
            ]
          },
          "separator": ""
        },
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "output-location": {
            "__LDATA__": [
              "result"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": {
            "__LDATA__": [
              "query"
            ]
          },
          "use-mock-result": false,
          "username": "postgres"
        },
        {
          "$action": "data/set",
          "at-location": {
            "__LDATA__": [
              "final-result"
            ]
          },
          "value": []
        },
        {
          "$action": "iteration/for-each",
          "array": {
            "__LDATA__": [
              "result"
            ]
          },
          "do": [
            {
              "$action": "string/join",
              "array": [
                "SELECT station_name FROM public.\"stations\" WHERE id = '",
                {
                  "__LDATA__": [
                    "value",
                    "station_id"
                  ]
                },
                "'"
              ],
              "output-location": {
                "__LDATA__": [
                  "station-query"
                ]
              },
              "separator": ""
            },
            {
              "$action": "database/postgres/query",
              "address": "127.0.0.1",
              "database": "transportation",
              "format": "processed",
              "mock-result": {
                "columns": [
                  "column1",
                  "column2"
                ],
                "num_rows": 2,
                "rows": [
                  [
                    "col1_val1",
                    "col2_val1"
                  ],
                  [
                    "col1_val2",
                    "col2_val2"
                  ]
                ]
              },
              "output-location": {
                "__LDATA__": [
                  "station-name"
                ]
              },
              "password": "navid1234",
              "port": 5432,
              "query": {
                "__LDATA__": [
                  "station-query"
                ]
              },
              "use-mock-result": false,
              "username": "postgres"
            },
            {
              "$action": "array/insert-at",
              "array": {
                "__LDATA__": [
                  "final-result"
                ]
              },
              "index": 0,
              "output-location": {
                "__LDATA__": [
                  "final-result"
                ]
              },
              "value": {
                "sequence": {
                  "__LDATA__": [
                    "value",
                    "sequence"
                  ]
                },
                "station-name": {
                  "__LDATA__": [
                    "station-name",
                    0,
                    "station_name"
                  ]
                }
              }
            }
          ],
          "index-location": {
            "__LDATA__": [
              "index"
            ]
          },
          "value-location": {
            "__LDATA__": [
              "value"
            ]
          }
        },
        {
          "$action": "array/sort",
          "array": {
            "__LDATA__": [
              "final-result"
            ]
          },
          "output-location": {
            "__LDATA__": [
              "response",
              "body"
            ]
          }
        }
      ]
    },
    {
      "id": "62d4fb20-e6c1-41f8-aecc-09ba42c326ec",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c"
        ]
      },
      "value": [
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "output-location": {
            "__LDATA__": [
              "response",
              "body"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": "SELECT * FROM public.\"buses\"",
          "use-mock-result": false,
          "username": "postgres"
        }
      ]
    },
    {
      "id": "6e1a645c-8850-4b72-bc61-cc6245155369",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c"
        ]
      },
      "value": [
        {
          "$action": "json/decode",
          "json": {
            "__LDATA__": [
              "request",
              "body"
            ]
          },
          "output-location": {
            "__LDATA__": [
              "bus"
            ]
          }
        },
        {
          "$action": "string/join",
          "array": [
            "INSERT INTO public.\"buses\" (\"bus_name\") VALUES ('",
            {
              "__LDATA__": [
                "bus",
                "bus_name"
              ]
            },
            "')"
          ],
          "output-location": {
            "__LDATA__": [
              "query"
            ]
          },
          "separator": ""
        },
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "output-location": {
            "__LDATA__": [
              "result"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": {
            "__LDATA__": [
              "query"
            ]
          },
          "use-mock-result": false,
          "username": "postgres"
        }
      ]
    },
    {
      "id": "61e8e5bf-52d3-42d0-847b-5ac14cdfd5ae",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c"
        ]
      },
      "value": [
        {
          "$action": "json/decode",
          "json": {
            "__LDATA__": [
              "request",
              "body"
            ]
          },
          "output-location": {
            "__LDATA__": [
              "station"
            ]
          }
        },
        {
          "$action": "string/join",
          "array": [
            "INSERT INTO public.\"stations\" (\"station_name\",\"lat\",\"long\") VALUES ('",
            {
              "__LDATA__": [
                "station",
                "station_name"
              ]
            },
            "','",
            {
              "__LDATA__": [
                "station",
                "lat"
              ]
            },
            "','",
            {
              "__LDATA__": [
                "station",
                "long"
              ]
            },
            "')"
          ],
          "output-location": {
            "__LDATA__": [
              "query"
            ]
          },
          "separator": ""
        },
        {
          "$action": "database/postgres/query",
          "address": "127.0.0.1",
          "database": "transportation",
          "format": "processed",
          "mock-result": {
            "columns": [
              "column1",
              "column2"
            ],
            "num_rows": 2,
            "rows": [
              [
                "col1_val1",
                "col2_val1"
              ],
              [
                "col1_val2",
                "col2_val2"
              ]
            ]
          },
          "output-location": {
            "__LDATA__": [
              "result"
            ]
          },
          "password": "navid1234",
          "port": 5432,
          "query": {
            "__LDATA__": [
              "query"
            ]
          },
          "use-mock-result": false,
          "username": "postgres"
        }
      ]
    }
  ],
  "InboundEndpointTest": [
    {
      "id": "86d3bb0f-e7cf-472e-b8df-4e27f18f3fec",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c",
          "endpoint",
          "c7f4ae6c-a43b-42bf-ad84-0d40af4d0cb1"
        ]
      },
      "value": {
        "name": "default-test-input",
        "request": {
          "body": "{\"bus_id\":\"1\",\"bus_name\":\"line 1 - 1\"}",
          "header": {},
          "path": {},
          "query": {}
        }
      }
    },
    {
      "id": "9fa81954-998e-46e1-ae62-e52e822f118c",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c",
          "endpoint",
          "62d4fb20-e6c1-41f8-aecc-09ba42c326ec"
        ]
      },
      "value": {
        "name": "default-test-input",
        "request": {
          "body": "",
          "header": {},
          "path": {},
          "query": {}
        }
      }
    },
    {
      "id": "16a9ee1b-17f3-4601-b430-23316d312503",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c",
          "endpoint",
          "6e1a645c-8850-4b72-bc61-cc6245155369"
        ]
      },
      "value": {
        "name": "default-test-input",
        "request": {
          "body": "{\"bus_name\":\"new bus 25\"}",
          "header": {},
          "path": {},
          "query": {}
        }
      }
    },
    {
      "id": "d622a8fc-7f3b-47c9-9988-100ed4b38abe",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c",
          "endpoint",
          "61e8e5bf-52d3-42d0-847b-5ac14cdfd5ae"
        ]
      },
      "value": {
        "name": "default-test-input",
        "request": {
          "body": "{\"station_name\":\"new station 123\",\"lat\":\"127836\",\"long\":\"89127\"}",
          "header": {},
          "path": {},
          "query": {}
        }
      }
    },
    {
      "id": "a8d41312-a878-4095-a7ec-5262a60cc3a7",
      "meta": {
        "index": [
          "inbound",
          "a0ed087f-4c0e-4392-be15-d03998182b0c",
          "endpoint",
          "10167388-82e2-4e42-8a28-833503b76c87"
        ]
      },
      "value": {
        "name": "default-test-input",
        "request": {
          "body": "",
          "header": {},
          "path": {},
          "query": {}
        }
      }
    }
  ]
}